1. 项目概述
1.1 项目背景
在日常工作中，我们经常需要记录各项任务的进展、追踪任务状态变更、管理任务相关的沟通记录。本项目旨在开发一款轻量级的工作日志软件，帮助用户系统化管理日常工作内容，支持任务分解、进度追踪和历史记录查询。所有数据存储在本地，不依赖云服务，确保数据隐私和安全。

1.2 项目目标
构建一个功能完整、操作便捷的个人工作日志管理系统，实现工作项的全生命周期管理，包括任务创建、状态追踪、子任务分解、协作沟通（评论）及历史日志查询等功能。系统应具备良好的用户体验，支持本地数据持久化，确保数据不丢失。

1.3 适用范围与约束
本软件仅限单人本地使用，不涉及多用户协作场景。所有数据存储在用户本地设备，不提供云端同步功能。系统应支持离线运行，不依赖网络连接（除技术栈可能需要的依赖安装外）。
<br/>

2. 需求详细描述
2.1 功能性需求
2.1.1 工作项管理模块
FR-001 工作项创建

系统必须允许用户创建新的工作项，每个工作项应包含以下必填属性：

标题：文本字段，最大长度200字符，用于简洁描述工作项内容
内容：富文本或纯文本字段，最大长度5000字符，详细描述工作项的具体内容
开始时间：日期时间选择器，记录工作项的开始时间，
结束精确到分钟时间：日期时间选择器，记录工作项的预计或实际结束时间，精确到分钟
状态：下拉选择菜单，提供六个预定义状态选项（待处理/设计中/开发中/测试中/交付中/已完成）
系统应自动记录工作项的创建时间戳，该字段不可编辑但可查看。工作项创建成功后，系统应返回成功提示并自动刷新列表。

FR-002 工作项展示

系统必须提供工作项的展示功能，包括以下展示形式：

列表视图：以表格或卡片列表形式展示所有工作项，显示标题、状态、开始/结束时间等关键信息
详情视图：点击工作项后展示其完整信息，包括所有属性、子工作项列表、评论列表
状态可视化：通过颜色或图标区分不同状态（如待处理灰色、设计中蓝色、开发中绿色、测试中黄色、交付中橙色、已完成绿色）
系统应支持按状态、开始时间、结束时间、标题等字段进行排序和筛选。

FR-003 工作项编辑

系统必须允许用户编辑已存在的工作项，可编辑内容包括：

标题（修改后记录修改时间）
内容（支持追加或覆盖）
开始时间和结束时间
状态（状态变更需记录变更时间）
系统应保存完整的状态变更历史，用于后续日志查看。工作项的编辑操作应记录在操作日志中。

FR-004 工作项删除

系统必须允许用户删除不再需要的工作项。删除前应弹出确认对话框，防止误操作。工作项删除后，其关联的子工作项和评论应一并删除（物理删除或逻辑删除需在技术方案中确定）。

系统应提供"回收站"功能，删除的工作项可在回收站中保留7天，7天后自动彻底删除或由用户手动彻底删除。
<br/>

2.1.2 子工作项管理模块
FR-005 子工作项创建

系统必须允许用户在任意工作项下创建子工作项，子工作项继承父工作项的基本属性：

标题：必填字段，最大长度200字符
内容：必填字段，最大长度5000字符
开始时间：日期时间选择器
结束时间：日期时间选择器
状态：下拉选择（六个预定义状态）
子工作项应与父工作项建立关联关系，继承父工作项的部分上下文信息（如项目分类，如后续扩展）。子工作项应记录其归属的父工作项ID。

FR-006 子工作项层级展示

系统必须以树形结构或缩进列表形式展示工作项与子工作项的层级关系。父工作项展开后应显示其所有子工作项，每个子工作项同样支持展开以显示其评论列表。

子工作项应支持三级及以上嵌套（工作项→子工作项→孙工作项），但建议界面层数不超过三级以保持良好的用户体验。

FR-007 子工作项统计

系统应为每个工作项提供子工作项统计信息，包括：

子工作项总数
各状态子工作项数量分布（如：已完成3个，进行中2个）
子工作项完成率百分比
该统计信息应在工作项列表和工作项详情页面展示。

2.1.3 评论管理模块
FR-008 评论添加

系统必须允许用户在任意工作项或子工作项下添加评论。每条评论应包含以下属性：

评论时间：系统自动记录，精确到秒
评论内容：文本字段，必填，最大长度2000字符
关联对象：评论所属的工作项或子工作项ID
用户添加评论时应支持富文本格式（如支持Markdown语法）或纯文本，至少应支持换行和基本格式。评论添加成功后应立即显示在评论列表中。

FR-009 评论展示

系统必须按时间顺序（正序或倒序可配置）展示工作项下的所有评论列表。每条评论应显示：

评论时间（格式化显示，如"2024-01-15 14:30:25"）
评论内容
评论人标识（由于是单人使用，显示"我"即可）
系统应支持评论的分页加载，当评论数量较多时（如超过50条），应分页显示以保证页面性能。

FR-010 评论编辑与删除

系统必须允许用户编辑或删除已添加的评论。评论编辑后应记录编辑时间和原始内容（可选）。评论删除应提供确认机制，防止误操作。

2.1.4 日志查看模块
FR-011 按天日志查看

系统必须提供按天查看工作日志的功能，核心要求如下：

日期选择器：支持选择具体日期查看当天的完整日志
日历视图：提供日历界面，直观展示每天的工作记录分布（如用颜色深浅表示工作量）
日志内容：每天日志应包含该日所有的操作记录
日志记录应涵盖以下操作类型：

工作项/子工作项的创建
工作项/子工作项状态的变更（记录变更前后的状态）
评论的添加
工作项/子工作项的编辑（可选，视实现复杂度定）
FR-012 日志排序功能

系统必须支持日志的正序和倒序查看：

正序查看：从早到晚按时间顺序显示，最早的操作在最前面
倒序查看：从晚到早按时间顺序显示，最新的操作在最前面
默认排序应为倒序（最新在前），符合大多数用户查看最新动态的习惯。

FR-013 日志筛选功能

除日期选择外，系统应提供以下日志筛选选项（可选但建议实现）：

按操作类型筛选：仅显示状态变更、仅显示评论添加、仅显示新建等
按工作项筛选：仅显示特定工作项的日志
按状态筛选：仅显示特定状态的变更记录
FR-014 日志导出功能

系统应支持将日志导出为常用格式（可选功能）：

导出为Markdown格式（.md）